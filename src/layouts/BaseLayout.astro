---
import { ViewTransitions } from "astro:transitions";
import "../styles/global.css";
interface Props {
  title: string;
  description?: string;
  color?: string;
  theme?: string;
}

const {
  title,
  description = "Descubre la región",
  color,
  theme,
} = Astro.props;
const currentPath = Astro.url.pathname;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content={description} />
    <link rel="icon" type="image/x-icon" href="/image/logo.ico" />
    <ViewTransitions />
    <title>{title}</title>
  </head>
  <body>
    <header style={color}>
      <nav>
        <a href="/" class="logo" transition:persist="3s"
          ><img
            src="/image/Logo_de_los_Pueblos_Mágicos_de_México.svg.png"
            alt="Pueblos Mágicos de México"
          />
          <span>Huauchinango</span></a
        >
        <button class="menu-toggle" aria-label="Toggle menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        <ul class="nav-links">
          <li>
            <a href="/" class={currentPath === "/" ? "active" : ""}>Inicio</a>
          </li>
          <li>
            <a
              href="/turismo"
              class={currentPath === "/turismo" ? "active" : ""}>Turismo</a>
          </li>
          <li>
            <a href="/flora" class={currentPath === "/flora" ? "active" : ""}
              >Flora</a>
          </li>
          <li>
            <a
              href="/gastronomia"
              class={currentPath === "/gastronomia" ? "active" : ""}
              >Gastronomía</a>
          </li>
          <li>
            <a
              href="/blog"
              class={currentPath.startsWith("/blog") ? "active" : ""}>Blog</a>
          </li>
        </ul>
      </nav>
    </header>
    <script>
      // Mobile menu toggle
      const menuToggle = document.querySelector('.menu-toggle');
      const navLinks = document.querySelector('.nav-links');
      
      menuToggle?.addEventListener('click', () => {
        menuToggle.classList.toggle('active');
        navLinks?.classList.toggle('active');
      });

      // Close menu when clicking on a link
      const navItems = document.querySelectorAll('.nav-links a');
      navItems.forEach(item => {
        item.addEventListener('click', () => {
          menuToggle?.classList.remove('active');
          navLinks?.classList.remove('active');
        });
      });

      // Close menu when clicking outside
      document.addEventListener('click', (e) => {
        const target = e.target as HTMLElement;
        if (!target.closest('nav')) {
          menuToggle?.classList.remove('active');
          navLinks?.classList.remove('active');
        }
      });
    </script>

    <main>
      <slot />
    </main>

    <footer>
      <p>&copy; 2024 Turismo Huauchinango - Desarrollo Sustentable</p>
      <p>Sitio web informativo sobre la región de Huauchinango</p>
    </footer>
  </body>
</html>
